<ng-container
  *ngIf="params$ | async; else heroNew"
  [ngTemplateOutlet]="contentLoader"
></ng-container>

<!-- content loader for hero detail -->
<ng-template #contentLoader>
  <shrd-ui-content-loader
    [pageLoaded]="heroLoaded$ | async"
    [templateRef]="heroDetail"
  ></shrd-ui-content-loader>
</ng-template>

<!-- view existing hero -->
<ng-template #heroDetail>
  <ng-container *ngIf="hero$ | async as hero">
    <h2 [innerHTML]="hero.name"></h2>
    <shrd-ui-toh-editor
      [hero]="hero"
      (cancel)="showModal(hero)"
      (save)="updateHero()"
      (edit)="onHeroChange($event)"
    ></shrd-ui-toh-editor>
  </ng-container>
</ng-template>

<!-- create new hero -->
<ng-template #heroNew>
  <h2>Create new hero</h2>
  <shrd-ui-toh-editor
    (cancel)="showModal()"
    (save)="saveHero()"
    (edit)="onHeroChange($event)"
  ></shrd-ui-toh-editor>
</ng-template>

<!-- modal for cancel button -->
<shrd-ui-modal
  primaryBtn="Abandon changes"
  secondaryBtn="Continue editing"
  header="Abandon changes"
  message="Continue editing or abandon changes?"
  [show]="heroToCancel"
  (confirm)="closeEditor()"
></shrd-ui-modal>
